<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Invitación Boda Civil — Jessica Gutierrez & Mariano Barajas</title>
    <meta
      name="description"
      content="Acompáñanos a celebrar nuestra boda civil. Toda la información: fecha, lugar, itinerario y confirmación de asistencia (RSVP)."
    />

    <!-- Open Graph / Twitter -->
    <meta
      property="og:title"
      content="Invitación Boda Civil — Jessica & Mariano"
    />
    <meta
      property="og:description"
      content="Acompáñanos a celebrar nuestra boda civil."
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="#" />
    <meta property="og:locale" content="es_MX" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Invitación Boda Civil — Jessica & Mariano"
    />
    <meta name="twitter:description" content="Toda la información y RSVP." />
    <meta name="twitter:image" content="#" />
    <link rel="canonical" href="#" />

    <meta name="theme-color" content="#6b5bff" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;500;600&display=swap"
      rel="stylesheet"
    />

    <!-- Datos estructurados del evento -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Event",
        "name": "Boda civil: Jessica Gutierrez & Mariano Barajas",
        "startDate": "2026-01-03T15:00:00-06:00",
        "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
        "eventStatus": "https://schema.org/EventScheduled",
        "location": {
          "@type": "Place",
          "name": "Quinta Sofia",
          "address": "Libertad 150, Los Agricultores de Ocotlán, 47980 Ocotlán, Jal"
        },
        "image": ["#"],
        "description": "Invitación a nuestra boda civil. Itinerario y confirmación (RSVP).",
        "organizer": {
          "@type": "Person",
          "name": "Jessica Gutierrez y Mariano Barajas"
        }
      }
    </script>

    <style>
      :root {
        --bg: #0f1221;
        --bg-2: #121631;
        --txt: #f4f6ff;
        --muted: #b8bce6;
        --brand: #8b7bff;
        --brand-2: #67d6ff;
        --card: rgba(255, 255, 255, 0.06);
        --ring: rgba(139, 123, 255, 0.35);
      }
      * {
        box-sizing: border-box;
      }
      html,
      body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: Poppins, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu,
          Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji",
          "Segoe UI Emoji";
        color: var(--txt);
        background: radial-gradient(
            1200px 600px at 10% -10%,
            #1e2248 0%,
            transparent 60%
          ),
          radial-gradient(900px 900px at 120% 10%, #202764 0%, transparent 55%),
          linear-gradient(180deg, var(--bg) 0%, var(--bg-2) 100%);
        background-attachment: fixed;
      }
      .wrap {
        max-width: 1080px;
        margin: 0 auto;
        padding: 24px;
      }

      header.hero {
        position: relative;
        overflow: hidden;
        border-radius: 24px;
        padding: 56px 32px;
        text-align: center;
        background: linear-gradient(
          135deg,
          rgba(139, 123, 255, 0.28),
          rgba(103, 214, 255, 0.18)
        );
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35),
          inset 0 0 0 1px rgba(255, 255, 255, 0.06);
      }
      .chip {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.08);
        color: var(--muted);
        font-size: 12px;
        letter-spacing: 0.4px;
      }
      .chip svg {
        opacity: 0.85;
      }
      h1 {
        font-family: "Playfair Display", serif;
        font-weight: 700;
        margin: 18px 0 8px;
        font-size: clamp(32px, 5vw, 56px);
      }
      .and {
        opacity: 0.65;
        font-weight: 400;
      }
      .sub {
        color: var(--muted);
      }
      .cta {
        margin-top: 10px;
        display: flex;
        gap: 12px;
        justify-content: center;
        flex-wrap: wrap;
      }
      .btn {
        appearance: none;
        border: 0;
        padding: 12px 18px;
        border-radius: 14px;
        cursor: pointer;
        font-weight: 600;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }
      .btn-primary {
        background: linear-gradient(135deg, var(--brand), var(--brand-2));
        color: #0b0f1a;
        box-shadow: 0 6px 18px var(--ring);
      }
      .btn-ghost {
        background: rgba(255, 255, 255, 0.08);
        color: var(--txt);
        border: 1px solid rgba(255, 255, 255, 0.12);
      }
      .btn:focus-visible {
        outline: 2px solid var(--brand-2);
        outline-offset: 2px;
      }
      .btn-ghost:hover {
        background: rgba(255, 255, 255, 0.12);
      }

      section {
        margin-top: 28px;
      }
      .card {
        background: var(--card);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 20px;
        padding: 22px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
      }
      .grid {
        display: grid;
        gap: 18px;
      }
      @media (min-width: 900px) {
        .grid-3 {
          grid-template-columns: repeat(3, 1fr);
        }
      }
      @media (min-width: 720px) {
        .grid-2 {
          grid-template-columns: repeat(2, 1fr);
        }
      }
      h2 {
        font-family: "Playfair Display", serif;
        font-size: clamp(22px, 3.2vw, 32px);
        margin: 0 0 6px;
      }
      p {
        margin: 6px 0 10px;
        line-height: 1.7;
      }
      .muted {
        color: var(--muted);
      }

      .countdown {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: clamp(8px, 2.5vw, 14px);
        margin-top: 16px;
      }
      .timebox {
        min-width: 86px;
        text-align: center;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 16px;
        padding: 10px;
      }
      .timebox .num {
        font-size: 28px;
        font-weight: 700;
      }
      .timebox .lbl {
        font-size: 12px;
        letter-spacing: 0.3px;
        color: var(--muted);
      }

      .timeline {
        list-style: none;
        margin: 0;
        padding: 0;
      }
      .timeline li {
        display: grid;
        grid-template-columns: 120px 1fr;
        gap: 12px;
        align-items: start;
        padding: 10px 0;
        border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
      }
      .timeline time {
        font-weight: 600;
      }

      iframe.map {
        width: 100%;
        height: 320px;
        border: 0;
        border-radius: 14px;
      }

      form .row {
        display: grid;
        gap: 12px;
      }
      @media (min-width: 680px) {
        form .row {
          grid-template-columns: 1fr 1fr;
        }
      }
      select option {
        color: black;
      }
      input,
      select,
      textarea {
        width: 100%;
        padding: 12px 14px;
        border-radius: 12px;
        border: 1px solid rgba(255, 255, 255, 0.14);
        background: rgba(255, 255, 255, 0.06);
        color: var(--txt);
        outline: none;
      }
      input::placeholder,
      textarea::placeholder {
        color: #cfd3ff8f;
      }
      label {
        font-size: 12px;
        color: var(--muted);
      }
      .note {
        font-size: 14px;
        color: var(--muted);
      }

      .gallery {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
      }
      .gallery img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-radius: 14px;
        border: 1px solid rgba(255, 255, 255, 0.08);
      }
      footer {
        opacity: 0.8;
        font-size: 12px;
        text-align: center;
        padding: 26px 6px;
      }
      .badge {
        display: inline-block;
        font-size: 11px;
        padding: 6px 10px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
      }
      .giftlist a {
        display: inline-block;
        margin: 6px 8px 0 0;
      }

      .floating-leaves {
        position: absolute;
        inset: 0;
        pointer-events: none;
        filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2));
      }
      .leaf {
        position: absolute;
        opacity: 0.5;
      }

      /* ====== Intro Envelope/Card ====== */
      .app {
        opacity: 0;
        transform: translateY(12px);
        transition: opacity 0.5s ease, transform 0.5s ease;
      }
      body.loaded .app {
        opacity: 1;
        transform: none;
      }

      #intro {
        position: fixed;
        inset: 0;
        display: grid;
        place-items: center;
        background: radial-gradient(
            1000px 600px at 50% -10%,
            #1b1f3f55,
            transparent 60%
          ),
          linear-gradient(180deg, var(--bg), var(--bg-2));
        z-index: 9999;
      }
      #intro.hide {
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.6s ease;
      }

      .stage {
        position: relative;
        width: min(92vw, 520px);
        height: min(70vh, 460px);
        display: grid;
        place-items: center;
        perspective: 1400px;
      }
      .skip {
        position: absolute;
        bottom: 12px;
        right: 12px;
        font-size: 12px;
      }

      .paper {
        background: radial-gradient(
            1200px 600px at -20% -30%,
            #ffffff10,
            transparent 60%
          ),
          radial-gradient(900px 900px at 120% 120%, #0000000f, transparent 60%),
          linear-gradient(180deg, #f7f6f1, #f0eee6);
        box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05) inset,
          0 8px 24px rgba(0, 0, 0, 0.25);
        filter: saturate(0.96) contrast(1.01);
      }

      /* Sobre */
      .envelope {
        position: relative;
        width: min(92%, 520px);
        height: min(60vh, 360px);
        border-radius: 12px;
        border: 1px solid rgba(0, 0, 0, 0.08);
        background: linear-gradient(160deg, #e6e0d0, #dad2bf);
        box-shadow: 0 18px 50px rgba(0, 0, 0, 0.35);
        overflow: hidden;
      }
      .envelope::after {
        content: "";
        position: absolute;
        inset: 8px;
        border: 1px dashed rgba(0, 0, 0, 0.08);
        border-radius: 8px;
        pointer-events: none;
      }

      /* Solapa */
      .envelope .flap {
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        height: 50%;
        background: linear-gradient(180deg, #d9d1be, #cfc7b4);
        clip-path: polygon(0 0, 100% 0, 50% 100%);
        transform-origin: top center;
        transform: rotateX(0deg);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.25);
      }
      .envelope .flap::after {
        content: "";
        position: absolute;
        inset: 0;
        clip-path: inherit;
        background: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.14),
          transparent 40%
        );
        opacity: 0;
        transition: opacity 0.45s ease;
      }
      .intro.open .flap::after {
        opacity: 0.5;
      }

      .env-back,
      .env-front,
      .flap {
        position: absolute;
        inset: 0;
      }
      .env-back {
        z-index: 1;
        background: radial-gradient(
            700px 300px at 50% -10%,
            #ffffff33 0%,
            transparent 60%
          ),
          linear-gradient(180deg, #e7deca, #d9cfbb);
      }
      .env-front {
        z-index: 3;
        background: linear-gradient(180deg, #e3dac5, #d7cdb8);
        clip-path: polygon(0% 36%, 50% 46%, 100% 36%, 100% 100%, 0% 100%);
        border-top: 1px solid rgba(0, 0, 0, 0.06);
        box-shadow: inset 0 10px 18px rgba(0, 0, 0, 0.12),
          0 -2px 6px rgba(0, 0, 0, 0.05);
        pointer-events: none;
      }
      .env-front::before {
        content: "";
        position: absolute;
        inset: 0;
        clip-path: inherit;
        background: radial-gradient(
              circle at 25% 30%,
              rgba(0, 0, 0, 0.06) 0 1px,
              transparent 1px
            )
            0 0/8px 8px,
          linear-gradient(
            180deg,
            rgba(255, 255, 255, 0.25),
            rgba(0, 0, 0, 0.04)
          );
        mix-blend-mode: multiply;
        opacity: 0.28;
        pointer-events: none;
      }

      .card3d {
        position: absolute;
        left: 50%;
        top: 78%;
        width: min(86%, 420px);
        height: min(60%, 260px);
        transform: translate3d(-50%, -48%, 0) rotateY(0deg);
        transform-style: preserve-3d;
        transition: transform 0.9s ease;
        z-index: 2;
        will-change: transform;
      }
      .card3d .face {
        position: absolute;
        inset: 0;
        border-radius: 16px;
        border: 1px solid rgba(0, 0, 0, 0.12);
        backface-visibility: hidden;
      }
      .card3d .front {
        background: linear-gradient(145deg, #fff, #f5f3eb);
      }
      .card3d .back {
        transform: rotateY(180deg);
        background: repeating-linear-gradient(
            90deg,
            #f7f5ed 0 12px,
            #f3f1e9 12px 24px
          ),
          linear-gradient(180deg, #f3f1e9, #ece9df);
      }
      .card3d .card-content {
        padding: 22px 22px 18px;
        color: #2a2a2a;
        text-align: center;
        font-family: "Playfair Display", serif;
      }
      .card3d .mini-title {
        font: 600 13px Poppins, system-ui;
        letter-spacing: 1.6px;
        text-transform: uppercase;
        color: #666;
      }
      .card3d h3 {
        margin: 8px 0 6px;
        font-size: clamp(22px, 3.2vw, 28px);
      }
      .card3d p {
        margin: 2px 0;
        color: #444;
        font: 500 14px Poppins, system-ui;
      }
      .back-hint {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        color: #333;
        font: 600 13px Poppins, system-ui;
        opacity: 0.8;
      }

      .intro.open .flap {
        transition: transform 0.7s ease;
        transform: rotateX(160deg);
      }
      .intro.pull .card3d {
        transition: transform 0.9s cubic-bezier(0.2, 0.8, 0.2, 1);
        transform: translate3d(-50%, -135%, 0) rotateY(0deg);
        box-shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
      }
      .intro.flip .card3d {
        transform: translate3d(-50%, -135%, 0) rotateY(180deg);
      }

      @media (prefers-reduced-motion: reduce) {
        .intro,
        .card3d,
        .flap {
          transition: none !important;
          animation: none !important;
        }
      }

      .loader {
        position: absolute;
        left: 50%;
        top: 50%;
        width: 42px;
        height: 42px;
        margin: -21px 0 0 -21px;
        border: 3px solid rgba(0, 0, 0, 0.12);
        border-top-color: rgba(0, 0, 0, 0.45);
        border-radius: 50%;
        animation: spin 0.9s linear infinite;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .intro.dim {
        transition: background 0.6s ease, opacity 0.6s ease;
        background: transparent;
      }

      .morph-clone {
        position: fixed;
        left: 0;
        top: 0;
        will-change: transform, width, height, border-radius, opacity;
        z-index: 10000;
        transform-origin: center center;
        pointer-events: none;
      }
      .hero.morph-target {
        position: relative;
        isolation: isolate;
      }
      .morphing-rounded {
        border-radius: 24px !important;
      }

      @media (prefers-reduced-motion: reduce) {
        .morph-clone,
        .intro.dim {
          transition: none !important;
        }
      }
      .card3d.style-polaroid .face {
        border-radius: 22px;
      }
      .card3d.style-polaroid .front {
        background: #ffffff;
        position: relative;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.18);
      }
      .card3d.style-polaroid .front::before {
        content: "";
        position: absolute;
        inset: 14px 14px 42px 14px;
        border-radius: 14px;
        background: linear-gradient(180deg, #fafafa, #f4f4f4);
        box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.06);
      }
      .card3d.style-polaroid .front .card-content {
        position: relative;
        z-index: 1;
        padding: 24px 24px 14px;
      }
      .card3d.style-polaroid .front .mini-title {
        letter-spacing: 1.8px;
      }
      .card3d.style-polaroid .front h3 {
        font-size: clamp(22px, 3.2vw, 30px);
      }
      .card3d.style-polaroid .back {
        border-radius: 22px;
      }

      .card3d.style-gold .face {
        border: 1px solid #d8b64b;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.35),
          0 6px 18px rgba(0, 0, 0, 0.18);
      }
      .card3d.style-gold .face::after {
        content: "";
        position: absolute;
        left: 12px;
        right: 12px;
        top: 10px;
        height: 1px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.6),
          transparent
        );
        pointer-events: none;
      }
      .card3d.style-polaroid.style-gold .front::before {
        inset: 15px 15px 43px 15px;
      }
      .card3d.style-gold .back {
        border-color: #d8b64b;
      }

      /* utilidades accesibles */
      .sr-only {
        position: absolute !important;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
      }
      /* Al terminar, la intro se desvanece */
      #intro.fade-out {
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.85s ease;
      }

      /* En el reverso, ocultamos loader/texto tras el flip */
      .intro.flip .loader,
      .intro.flip .back-hint {
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      /* Quitamos la “sensación de irse” (mantén la carta estática una vez volteada) */
      .intro.flip .card3d {
        /* ya tienes el rotateY(180deg); solo nos aseguramos de que no haya traslaciones extra */
        transform: translate3d(-50%, -135%, 0) rotateY(180deg);
      }
    </style>
  </head>
  <body>
    <!-- INTRO: Carta -> Tarjeta con flip -->
    <div id="intro" class="intro" aria-label="Carta de amor">
      <div class="stage" role="img" aria-label="Sobre y tarjeta de invitación">
        <div class="envelope paper">
          <div class="env-back" aria-hidden="true"></div>

          <div
            class="card3d style-polaroid style-gold"
            aria-label="Tarjeta invitación"
          >
            <div class="face front paper">
              <div class="card-content">
                <div class="mini-title">Invitación</div>
                <h3 id="card-nombres">[Nombres]</h3>
                <p id="card-fecha">[Fecha legible]</p>
                <p id="card-lugar">[Lugar]</p>
              </div>
            </div>
            <div class="face back paper">
              <div class="back-hint">Cargando contenido…</div>
              <div class="loader" aria-hidden="true"></div>
            </div>
          </div>

          <div class="env-front" aria-hidden="true"></div>
          <div class="flap"></div>
        </div>

        <button
          class="skip btn btn-ghost"
          type="button"
          aria-label="Saltar animación"
        >
          Saltar animación
        </button>
      </div>
    </div>

    <div class="wrap app">
      <header class="hero" aria-labelledby="tituloppal">
        <svg
          class="floating-leaves"
          viewBox="0 0 600 300"
          preserveAspectRatio="none"
          aria-hidden="true"
        >
          <circle
            class="leaf"
            cx="520"
            cy="60"
            r="28"
            fill="#8b7bff"
            fill-opacity="0.18"
          />
          <circle
            class="leaf"
            cx="40"
            cy="220"
            r="36"
            fill="#67d6ff"
            fill-opacity="0.16"
          />
        </svg>
        <span class="chip" role="note" aria-label="Boda civil">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              d="M10 7a7 7 0 1 0 7 7h-2a5 5 0 1 1-5-5V7zM14 3h6v2h-6V3zm-1.414 2.586 1.414 1.414L12 9 10.586 7.586 12.586 5.586zM17 10a7 7 0 1 1-4.95 2.05l1.414 1.414A5 5 0 1 0 17 12v-2z"
            />
          </svg>
          Boda civil
        </span>
        <h1 id="tituloppal">
          <span id="novios">[Tu Nombre]</span> <span class="and">&</span>
          <span id="novia">[Su Nombre]</span>
        </h1>
        <p class="sub" id="fecha-legible">
          Sábado 03 de Enero de 2026 · 5:30 p.m.
        </p>

        <div class="countdown" aria-label="Cuenta regresiva">
          <div class="timebox" aria-live="polite">
            <div class="num" id="dd">00</div>
            <div class="lbl">Días</div>
          </div>
          <div class="timebox">
            <div class="num" id="hh">00</div>
            <div class="lbl">Horas</div>
          </div>
          <div class="timebox">
            <div class="num" id="mm">00</div>
            <div class="lbl">Min</div>
          </div>
          <div class="timebox">
            <div class="num" id="ss">00</div>
            <div class="lbl">Seg</div>
          </div>
        </div>

        <p class="sub">Favor de confirmar asistencia</p>
        <div class="cta">
          <a class="btn btn-primary" href="#rsvp">Confirmar asistencia</a>
          <button class="btn btn-ghost" id="btnCal" style="display: none">
            Agregar al calendario
          </button>
        </div>
      </header>

      <!-- Intro texto (id único para aria-labelledby) -->
      <section class="grid grid-1" aria-labelledby="intro-texto">
        <article class="card">
          <h2 id="intro-texto" class="sr-only">Introducción</h2>
          <p>
            El amor, cuando es verdadero, se reconoce en la calma de una mirada,
            en la complicidad de un gesto y en la certeza de un “para siempre”
            compartido.
          </p>
          <br />
          <p>
            Hoy, con el corazón pleno y la ilusión de un nuevo comienzo, hemos
            decidido unir sus vidas ante la ley y ante las personas que más
            queremos. Nada nos haría más felices que contar con su presencia en
            este día tan especial, para celebrar juntos el amor que nos une y la
            alegría de este nuevo capítulo que comienza.
          </p>
        </article>
      </section>

      <section class="grid grid-3" aria-labelledby="detalles-titulo">
        <article class="card">
          <h2 id="detalles-titulo">Detalles</h2>
          <p>
            <strong>Fecha:</strong>
            <span id="fecha-texto">03 de enero de 2026</span>
          </p>
          <p><strong>Hora:</strong> <span id="hora-texto">17:30</span></p>
          <p>
            <strong>Lugar:</strong> <span id="lugar-nombre">Salón Aurora</span>
          </p>
          <p class="muted" id="lugar-direccion">
            Av. Siempre Viva 123, Ciudad, País
          </p>
          <p class="note">Por favor llega con 15 minutos de anticipación.</p>
        </article>

        <article class="card">
          <h2>Dress code</h2>
          <p>Formal/Coctel. Colores sugeridos: neutros y tonos azules.</p>
          <span class="badge">IPS</span>
        </article>

        <article class="card">
          <h2>Itinerario</h2>
          <ul class="timeline">
            <li>
              <time>17:30</time>
              <div>Recepción y bienvenida</div>
            </li>
            <li>
              <time>18:00</time>
              <div>Ceremonia civil</div>
            </li>
            <li>
              <time>18:45</time>
              <div>Brindis y fotos</div>
            </li>
            <li>
              <time>19:30</time>
              <div>Coctel / Cena ligera</div>
            </li>
          </ul>
        </article>
      </section>

      <!-- Ubicación -->
      <section class="grid grid-2" aria-labelledby="ubica">
        <article class="card">
          <h2 id="ubica">¿Cómo llegar?</h2>
          <p>
            Te esperamos en <strong id="lugar-nombre-2">Salón Aurora</strong>.
            Usa el mapa para trazar tu ruta.
          </p>
          <iframe
            class="map"
            title="Mapa para llegar a Quinta Sofia"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            allowfullscreen
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3741.5970360311803!2d-102.77218802404289!3d20.3169400118447!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x842edf23424a7569%3A0xa890ee036bc35e85!2sQuinta%20Sofia!5e0!3m2!1ses-419!2smx!4v1760655583722!5m2!1ses-419!2smx"
          >
          </iframe>
          <p class="note">Estacionamiento disponible frente al recinto.</p>
        </article>

        <article class="card">
          <h2>Galería</h2>
          <div class="gallery" aria-label="Galería de fotos">
            <img
              src="images/Imagen1.jpg"
              alt="Anillos de boda"
              loading="lazy"
            />
            <img
              src="images/Imange2.jpg"
              alt="Decoración elegante en tonos azules"
              loading="lazy"
            />
            <img
              src="images/Imagen4.jpg"
              alt="Copa de brindis"
              loading="lazy"
            />
            <img src="images/Imagen3.jpg" alt="Cita en el mar" loading="lazy" />
          </div>
        </article>
      </section>

      <!-- RSVP -->
      <section id="rsvp" class="card" aria-labelledby="confirma">
        <h2 id="confirma">Confirmación de asistencia (RSVP)</h2>
        <p class="muted">Tu respuesta nos ayuda a planear mejor. ¡Gracias!</p>
        <form
          action="https://docs.google.com/forms/d/e/1FAIpQLSdwEEjd31niWu0NV7aBp8nkD2cMhDPSIkeUKheKp9TWhxOlWg/formResponse"
          method="POST"
          target="gform_target"
          onsubmit="return handleRSVPSubmit(event)"
        >
          <div class="row">
            <div>
              <label for="nombre">Nombre completo</label>
              <input
                id="nombre"
                name="entry.1616862916"
                type="text"
                placeholder="Ejem: Ana Pérez"
                required
                autocomplete="name"
              />
            </div>
            <div>
              <label for="telefono">Teléfono</label>
              <input
                id="telefono"
                name="entry.1182474863"
                type="tel"
                placeholder="10 dígitos"
                inputmode="tel"
                autocomplete="tel"
                pattern="[0-9\s\-\+]{8,}"
              />
            </div>
          </div>
          <div class="row">
            <div>
              <label for="asistencia">¿Asistirás?</label>
              <select id="asistencia" name="entry.1491225501" required>
                <option value="">Selecciona…</option>
                <option value="SI">Sí, ahí estaré</option>
                <option value="NO">No podré asistir</option>
              </select>
            </div>
            <div>
              <label for="acompanantes">Acompañantes</label>
              <select id="acompanantes" name="entry.1549164973">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </div>
          </div>

          <!-- Honeypot anti-bots -->
          <input
            type="text"
            name="_gotcha"
            style="display: none"
            tabindex="-1"
            autocomplete="off"
          />

          <div
            style="
              display: flex;
              gap: 10px;
              align-items: center;
              margin-top: 10px;
            "
          >
            <button class="btn btn-primary" id="rsvpSubmit" type="submit">
              Enviar confirmación
            </button>
            <span class="note"
              >Al enviar aceptas el tratamiento básico de tus datos para esta
              invitación.</span
            >
          </div>
        </form>
        <!-- Iframe oculto para evitar redirección -->
        <iframe
          name="gform_target"
          title="Registro RSVP"
          style="
            position: absolute;
            width: 0;
            height: 0;
            border: 0;
            opacity: 0;
            pointer-events: none;
          "
        ></iframe>
      </section>

      <div id="rsvpOk" class="note" style="display: none; margin-top: 10px">
        ¡Gracias! Tu confirmación se registró correctamente.
      </div>

      <!-- Mesa de regalos / Nota -->
      <section class="grid grid-1" aria-labelledby="regalos">
        <article class="card giftlist">
          <h2 id="regalos">Tu presencia es nuestro mejor regalo.</h2>
          <p class="muted">
            Si deseas hacernos un obsequio, una ayuda económica será muy
            apreciada para esta nueva etapa de nuestras vidas.
          </p>
        </article>
      </section>

      <footer>
        Hecho con ♥ por y para la familia y amigos. —
        <span class="muted">#BodaCivil</span>
      </footer>
    </div>

    <script>
      // ============ CONFIG RÁPIDA ============
      const INVITACION = {
        novios: "Jessica Gutiérrez",
        novia: "Mariano Barajas",
        fechaISO: "2026-01-03T15:00",
        lugar: {
          nombre: "Quinta Sofia",
          direccion:
            "Libertad 150, Los Agricultores de Ocotlán, 47980 Ocotlán, Jal",
        },
      };

      // Set de textos
      document.getElementById("novios").textContent = INVITACION.novios;
      document.getElementById("novia").textContent = INVITACION.novia;
      document.getElementById("lugar-nombre").textContent =
        INVITACION.lugar.nombre;
      document.getElementById("lugar-nombre-2").textContent =
        INVITACION.lugar.nombre;
      document.getElementById("lugar-direccion").textContent =
        INVITACION.lugar.direccion;

      // Formateo de fecha legible (hora local)
      const f = new Date(INVITACION.fechaISO);
      const fmt = new Intl.DateTimeFormat("es-MX", {
        weekday: "long",
        day: "2-digit",
        month: "long",
        year: "numeric",
        hour: "2-digit",
        minute: "2-digit",
      });
      const soloFecha = new Intl.DateTimeFormat("es-MX", {
        day: "2-digit",
        month: "long",
        year: "numeric",
      });
      const soloHora = new Intl.DateTimeFormat("es-MX", {
        hour: "2-digit",
        minute: "2-digit",
      });
      document.getElementById("fecha-legible").textContent = fmt
        .format(f)
        .replace(",", " ·");
      document.getElementById("fecha-texto").textContent = soloFecha.format(f);
      document.getElementById("hora-texto").textContent = soloHora.format(f);

      // Cuenta regresiva
      const dd = document.getElementById("dd"),
        hh = document.getElementById("hh"),
        mm = document.getElementById("mm"),
        ss = document.getElementById("ss");
      function tick() {
        const now = new Date();
        const t = f - now;
        if (t <= 0) {
          dd.textContent =
            hh.textContent =
            mm.textContent =
            ss.textContent =
              "00";
          return;
        }
        const sec = Math.floor(t / 1000) % 60;
        const min = Math.floor(t / 1000 / 60) % 60;
        const hr = Math.floor(t / 1000 / 60 / 60) % 24;
        const day = Math.floor(t / 1000 / 60 / 60 / 24);
        dd.textContent = String(day).padStart(2, "0");
        hh.textContent = String(hr).padStart(2, "0");
        mm.textContent = String(min).padStart(2, "0");
        ss.textContent = String(sec).padStart(2, "0");
      }
      tick();
      setInterval(tick, 1000);
    </script>

    <!-- Calendario con soporte iOS, Android y escritorio + ICS con CRLF -->
    <script>
      (function () {
        const btn = document.getElementById("btnCal");
        if (!btn) return;

        const clone = btn.cloneNode(true);
        btn.parentNode && btn.parentNode.replaceChild(clone, btn);

        const DURATION_MIN = 480; // 8h
        const eventDate =
          typeof f !== "undefined" && f instanceof Date
            ? f
            : new Date(INVITACION.fechaISO);

        function fmtTimesUTC() {
          const startISO = new Date(eventDate).toISOString();
          const endISO = new Date(
            eventDate.getTime() + DURATION_MIN * 60000
          ).toISOString();
          const start = startISO.replace(/[-:]/g, "").split(".")[0] + "Z";
          const end = endISO.replace(/[-:]/g, "").split(".")[0] + "Z";
          return { start, end };
        }

        function meta() {
          const titulo =
            `Boda civil: ${INVITACION.novios} & ${INVITACION.novia}`.trim();
          const descr = "¡Acompáñanos a celebrar este momento especial!";
          const loc = `${INVITACION.lugar.nombre} — ${INVITACION.lugar.direccion}`;
          return { titulo, descr, loc };
        }

        function buildICS(start, end, m) {
          const CRLF = "\r\n";
          return [
            "BEGIN:VCALENDAR",
            "VERSION:2.0",
            "PRODID:-//Invitacion Boda//ES",
            "BEGIN:VEVENT",
            `UID:${Date.now()}@invitacion`,
            `DTSTAMP:${start}`,
            `DTSTART:${start}`,
            `DTEND:${end}`,
            `SUMMARY:${m.titulo}`,
            `DESCRIPTION:${m.descr}`,
            `LOCATION:${m.loc}`,
            "END:VEVENT",
            "END:VCALENDAR",
          ].join(CRLF);
        }

        function downloadICS(ics) {
          const blob = new Blob([ics], { type: "text/calendar;charset=utf-8" });
          const url = URL.createObjectURL(blob);
          const a = document.createElement("a");
          a.href = url;
          a.download = "boda.ics";
          document.body.appendChild(a);
          a.click();
          a.remove();
          setTimeout(() => URL.revokeObjectURL(url), 4000);
        }

        function googleCalendarURL(start, end, m) {
          const g = new URL("https://calendar.google.com/calendar/render");
          g.searchParams.set("action", "TEMPLATE");
          g.searchParams.set("text", m.titulo);
          g.searchParams.set("dates", `${start}/${end}`);
          g.searchParams.set("details", m.descr);
          g.searchParams.set("location", m.loc);
          return g.toString();
        }

        clone.addEventListener("click", function () {
          const { start, end } = fmtTimesUTC();
          const m = meta();
          const ua = navigator.userAgent;
          const isAndroid = /Android/i.test(ua);
          const isIOS =
            /iP(hone|ad|od)/i.test(ua) ||
            (/Macintosh/i.test(ua) && "ontouchend" in document);

          if (isAndroid) {
            window.location.href = googleCalendarURL(start, end, m);
          } else if (isIOS) {
            downloadICS(buildICS(start, end, m));
          } else {
            const choice = confirm(
              "¿Abrir en Google Calendar? (Cancelar para descargar .ics)"
            );
            if (choice) {
              window.open(googleCalendarURL(start, end, m), "_blank");
            } else {
              downloadICS(buildICS(start, end, m));
            }
          }
        });
      })();
    </script>

    <script>
      (function () {
        const intro = document.getElementById("intro");
        const skipBtn = intro?.querySelector(".skip");
        const prefersReduce = window.matchMedia(
          "(prefers-reduced-motion: reduce)"
        ).matches;
        const hero = document.querySelector("header.hero");

        function showAppNow() {
          document.body.classList.add("loaded");
          intro?.classList.add("hide");
          setTimeout(() => {
            intro?.remove();
          }, 650);
        }

        function runAnimation() {
          if (!intro) return showAppNow();
          if (prefersReduce) return showAppNow();

          // Rellena la tarjeta con tus datos como antes
          (function fillCardFromData() {
            try {
              const nombres = [
                INVITACION?.novios?.trim(),
                INVITACION?.novia?.trim(),
              ]
                .filter(Boolean)
                .join(" & ");
              const f = new Date(INVITACION?.fechaISO || Date.now());
              const fechaLegible = new Intl.DateTimeFormat("es-MX", {
                weekday: "long",
                day: "2-digit",
                month: "long",
                year: "numeric",
                hour: "2-digit",
                minute: "2-digit",
              }).format(f);
              document.getElementById("card-nombres").textContent =
                nombres || "Nuestra Boda";
              document.getElementById("card-fecha").textContent =
                fechaLegible.replace(",", " ·");
              document.getElementById("card-lugar").textContent =
                INVITACION?.lugar?.nombre || "Lugar por confirmar";
            } catch (e) {}
          })();

          const EXTRA_LECTURA = 1500; // ms extra para leer el frente de la tarjeta
          const LECTURA_REVERSO = 500; // ms para que se vea brevemente el reverso antes de desvanecer

          // Paso 1: abrir solapa
          intro.classList.add("open");

          // Paso 2: sacar tarjeta
          setTimeout(() => {
            intro.classList.add("pull");
          }, 950);

          // Paso 3: giro a reverso (esperamos más para leer el frente)
          setTimeout(() => {
            intro.classList.add("flip");
          }, 1850 + EXTRA_LECTURA);

          // Paso 4: en lugar de “morph”, hacemos fade-out y mostramos la página
          setTimeout(() => {
            // oculta visualmente el loader/hint (por si siguen visibles)
            const loader = intro.querySelector(".loader");
            const hint = intro.querySelector(".back-hint");
            if (loader) loader.style.opacity = "0";
            if (hint) hint.style.opacity = "0";

            // desvanecer la intro y revelar la app
            document.body.classList.add("loaded");
            intro.classList.add("fade-out");

            // limpieza final
            setTimeout(() => {
              intro.remove();
            }, 900);
          }, 1850 + EXTRA_LECTURA + LECTURA_REVERSO);
        }

        skipBtn?.addEventListener("click", showAppNow);
        window.addEventListener("load", runAnimation);
      })();
    </script>

    <script>
      // Reemplaza la sección RSVP por un bloque final según estado
      function renderRSVPState(estado, nombre = "") {
        const rsvpSec = document.getElementById("rsvp");
        const calBtn = document.getElementById("btnCal");
        if (!rsvpSec) return;

        const graciasSi = `
      <h2 id="confirma">¡Gracias por confirmar!</h2>
      <p class="muted">Gracias ${
        nombre ? `<strong>${nombre}</strong>` : ""
      } por tu respuesta. ¡Nos hace mucha ilusión verte!</p>
      <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
        <button class="btn btn-ghost" id="btnCalInline">Agregar al calendario</button>
        <span class="note">Guárdalo para que no se te pase la fecha ✨</span>
      </div>
    `;

        const graciasNo = `
      <h2 id="confirma">¡Gracias por avisarnos!</h2>
      <p class="muted">Lamentamos que no puedas acompañarnos, pero apreciamos mucho que lo hayas confirmado.</p>
    `;

        // Reemplazar contenido completo de la sección RSVP
        rsvpSec.innerHTML = estado === "SI" ? graciasSi : graciasNo;

        // Si “Sí”, mostramos botón del héroe y conectamos el inline
        if (estado === "SI") {
          if (calBtn) calBtn.style.display = ""; // mostrar el del héroe
          const inline = document.getElementById("btnCalInline");
          if (inline && calBtn) {
            inline.addEventListener("click", (ev) => {
              ev.preventDefault();
              calBtn.click(); // reutiliza tu lógica de calendario existente
            });
          }
        }
      }

      // Manejo de envío: al terminar, guardamos estado y reemplazamos el formulario
      function handleRSVPSubmit(e) {
        e.preventDefault();

        const form = e.target;
        const iframe = document.getElementsByName("gform_target")[0];
        const btn = form.querySelector('button[type="submit"]');
        const nombre = document.getElementById("nombre")?.value?.trim() || "";
        const asis = (
          document.getElementById("asistencia")?.value || ""
        ).toUpperCase();

        if (!iframe) {
          form.submit();
          return false;
        }

        // Feedback en botón
        let originalText = "";
        if (btn) {
          originalText = btn.textContent;
          btn.disabled = true;
          btn.textContent = "Enviando…";
        }

        const finish = () => {
          if (btn) {
            btn.disabled = false;
            btn.textContent = originalText || "Enviar confirmación";
          }
          try {
            localStorage.setItem("rsvpStatus", asis === "SI" ? "SI" : "NO");
            if (nombre) localStorage.setItem("rsvpNombre", nombre);
          } catch {}
          renderRSVPState(asis === "SI" ? "SI" : "NO", nombre);
        };

        const onload = () => {
          cleanup();
          finish();
        };
        const fallback = setTimeout(() => {
          cleanup();
          finish();
        }, 2500);

        function cleanup() {
          try {
            iframe.removeEventListener("load", onload);
          } catch {}
          try {
            clearTimeout(fallback);
          } catch {}
        }

        iframe.addEventListener("load", onload, { once: true });
        form.submit(); // envía a Google Forms en segundo plano
        return false;
      }

      // Al cargar: si ya respondió, mostrar bloque final (y ocultar formulario)
      document.addEventListener("DOMContentLoaded", () => {
        try {
          const estado = localStorage.getItem("rsvpStatus");
          const nombre = localStorage.getItem("rsvpNombre") || "";
          if (estado === "SI" || estado === "NO") {
            renderRSVPState(estado, nombre);
          }
        } catch {}
      });
    </script>
  </body>
</html>
